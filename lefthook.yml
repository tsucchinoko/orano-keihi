pre-commit:
  jobs:
    - name: format frontend
      tags:
        - frontend
      run: pnpm run fmt
      stage_fixed: true
    - name: format backend
      tags:
        - backend
      run: cargo fmt --manifest-path src-tauri/Cargo.toml --all-targets --all-features
      stage_fixed: true

pre-push:
  jobs:
    - name: lint frontend
      tags:
        - frontend
      run: pnpm run lint
    - name: check frontend 
      tags:
        - frontend
      run: pnpm run check
    - name: build frontend
      tags:
        - frontend
      run: pnpm run build
    - name: lint backend
      tags:
        - backend
      run: cargo clippy --manifest-path src-tauri/Cargo.toml --all-targets --all-features -- -D warnings
    - name: test backend
      tags:
        - backend
      run: cargo test --manifest-path src-tauri/Cargo.toml