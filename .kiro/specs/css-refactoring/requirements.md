# 要件定義書

## はじめに

現在のアプリケーションでは、`src/app.css`に多くのカスタムCSSクラス（`.card`, `.btn`, `.input`など）が定義されており、各コンポーネントでこれらのスタイルを上書きする必要が生じています。この状況は保守性を低下させ、スタイルの一貫性を保つことを困難にしています。

本機能では、Tailwind CSS v4の機能を活用して、カスタムCSSを最小限に抑え、再利用可能なユーティリティクラスとして整理します。これにより、コンポーネント間でのスタイルの一貫性を保ちながら、保守性を向上させます。

## 用語集

- **Tailwind CSS**: ユーティリティファーストのCSSフレームワーク
- **CSS変数**: CSSカスタムプロパティ（`--variable-name`形式）
- **@theme**: Tailwind CSS v4でテーマをカスタマイズするためのディレクティブ
- **@layer**: Tailwind CSSでスタイルをレイヤーに分類するためのディレクティブ
- **ユーティリティクラス**: 単一の目的を持つ小さなCSSクラス（例：`bg-blue-500`, `p-4`）

## 要件

### 要件 1

**ユーザーストーリー:** 開発者として、カスタムカラーとグラデーションをTailwindのユーティリティクラスとして使用したい。そうすることで、一貫したデザインシステムを維持できる。

#### 受け入れ基準

1. WHEN カスタムカラー（カテゴリカラー）を定義する THEN システムはTailwindの`@theme`ディレクティブを使用してカラーパレットに追加すること
2. WHEN グラデーションを定義する THEN システムはCSS変数として保持し、Tailwindのユーティリティクラスから参照可能にすること
3. WHEN 開発者がカテゴリカラーを使用する THEN `bg-category-transport`のような標準的なTailwindクラス名で使用できること
4. WHEN 開発者がグラデーションを使用する THEN `bg-gradient-primary`のようなカスタムユーティリティクラスで使用できること

### 要件 2

**ユーザーストーリー:** 開発者として、共通コンポーネント（カード、ボタン、入力フィールド）のスタイルをTailwindのコンポーネントレイヤーで定義したい。そうすることで、各ファイルでの上書きを最小限に抑えられる。

#### 受け入れ基準

1. WHEN カードコンポーネントのスタイルを定義する THEN システムは`@layer components`内で`.card`クラスを定義し、Tailwindユーティリティを使用すること
2. WHEN ボタンコンポーネントのスタイルを定義する THEN システムは`@layer components`内で`.btn`および`.btn-*`バリアントを定義すること
3. WHEN 入力フィールドのスタイルを定義する THEN システムは`@layer components`内で`.input`クラスを定義すること
4. WHEN これらのコンポーネントクラスを使用する THEN 追加のTailwindユーティリティクラスで簡単に拡張・上書きできること

### 要件 3

**ユーザーストーリー:** 開発者として、グローバルスタイル（body、トランジション）を最小限に保ちたい。そうすることで、予期しないスタイルの競合を避けられる。

#### 受け入れ基準

1. WHEN グローバルスタイルを定義する THEN システムは`@layer base`内で必要最小限のスタイルのみを定義すること
2. WHEN bodyタグのスタイルを定義する THEN フォントファミリーと背景のみを設定すること
3. WHEN トランジションを定義する THEN グローバルな`*`セレクタではなく、必要なコンポーネントクラス内で定義すること
4. WHEN レスポンシブスタイルを定義する THEN Tailwindの標準的なブレークポイントユーティリティを使用すること

### 要件 4

**ユーザーストーリー:** 開発者として、既存のコンポーネントファイルが新しいスタイルシステムで正しく動作することを確認したい。そうすることで、リファクタリング後も機能が保たれることを保証できる。

#### 受け入れ基準

1. WHEN CSSをリファクタリングする THEN 既存のすべてのコンポーネントで使用されているクラス名を維持すること
2. WHEN 新しいスタイルシステムを適用する THEN 視覚的な見た目が変わらないこと
3. WHEN コンポーネントがカスタムクラスを使用する THEN それらのクラスが引き続き機能すること
4. WHEN Tailwindユーティリティで上書きする THEN 期待通りに上書きが適用されること
